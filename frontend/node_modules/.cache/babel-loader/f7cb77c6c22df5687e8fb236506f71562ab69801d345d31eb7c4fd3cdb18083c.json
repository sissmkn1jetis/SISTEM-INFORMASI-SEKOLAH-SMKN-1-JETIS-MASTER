{"ast":null,"code":"export default {\n  data() {\n    return {\n      user: null,\n      selectedKelas: \"\",\n      selectedKelasName: \"\",\n      kelasList: [],\n      siswaList: []\n    };\n  },\n  async mounted() {\n    await this.fetchProfileData();\n  },\n  methods: {\n    async fetchProfileData() {\n      try {\n        const response = await fetch(\"http://localhost:8080/api/auth/me/guru\");\n        const profileData = await response.json();\n        this.user = profileData.user;\n        this.kelasList = this.user.guru.kelas; // Mengambil daftar kelas dari user.guru\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchSiswaByKelas() {\n      try {\n        const response = await fetch(`http://localhost:8080/api/test/listnk/${this.selectedKelas}`);\n        const data = await response.json();\n        this.siswaList = data.siswaList;\n        this.selectedKelasName = data.selectedKelasName;\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAyBA,eAAe;EACbA,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE,IAAI;MACVC,aAAa,EAAE,EAAE;MACjBC,iBAAiB,EAAE,EAAE;MACrBC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACD,MAAMC,OAAO,GAAG;IACd,MAAM,IAAI,CAACC,gBAAgB,EAAE;EAC/B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,gBAAgB,GAAG;MACvB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMC,KAAK,CAAC,wCAAwC,CAAC;QACtE,MAAMC,WAAU,GAAI,MAAMF,QAAQ,CAACG,IAAI,EAAE;QACzC,IAAI,CAACX,IAAG,GAAIU,WAAW,CAACV,IAAI;QAC5B,IAAI,CAACG,SAAQ,GAAI,IAAI,CAACH,IAAI,CAACY,IAAI,CAACC,KAAK,EAAE;MACzC,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IACD,MAAME,iBAAiB,GAAG;MACxB,IAAI;QACF,MAAMR,QAAO,GAAI,MAAMC,KAAK,CACzB,yCAAwC,IAAI,CAACR,aAAc,GAC7D;QACD,MAAMF,IAAG,GAAI,MAAMS,QAAQ,CAACG,IAAI,EAAE;QAClC,IAAI,CAACP,SAAQ,GAAIL,IAAI,CAACK,SAAS;QAC/B,IAAI,CAACF,iBAAgB,GAAIH,IAAI,CAACG,iBAAiB;MACjD,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF;AACF,CAAC","names":["data","user","selectedKelas","selectedKelasName","kelasList","siswaList","mounted","fetchProfileData","methods","response","fetch","profileData","json","guru","kelas","error","console","fetchSiswaByKelas"],"sourceRoot":"","sources":["D:\\filee\\SISTEM-INFORMASI-SEKOLAH-SMKN-1-JETIS-MASTER\\frontend\\src\\components\\DataNilai\\DataNilai.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Profile Guru</h2>\r\n    <div v-if=\"user && user.guru\">\r\n      <p>Nama Guru: {{ user.guru.nama }}</p>\r\n    </div>\r\n    <div>\r\n      <h3>Data Siswa</h3>\r\n      <select v-model=\"selectedKelas\" @change=\"fetchSiswaByKelas\">\r\n        <option value=\"\">Pilih Kelas</option>\r\n        <option v-for=\"kelas in kelasList\" :key=\"kelas.id\" :value=\"kelas.id\">\r\n          {{ kelas.name_kelas }}\r\n        </option>\r\n      </select>\r\n      <div v-if=\"siswaList.length > 0\">\r\n        <p v-for=\"siswa in siswaList\" :key=\"siswa.id\">{{ siswa.name }}</p>\r\n      </div>\r\n      <p v-else-if=\"selectedKelasName\">\r\n        Tidak ada siswa pada kelas {{ selectedKelasName }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: null,\r\n      selectedKelas: \"\",\r\n      selectedKelasName: \"\",\r\n      kelasList: [],\r\n      siswaList: [],\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.fetchProfileData();\r\n  },\r\n  methods: {\r\n    async fetchProfileData() {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8080/api/auth/me/guru\");\r\n        const profileData = await response.json();\r\n        this.user = profileData.user;\r\n        this.kelasList = this.user.guru.kelas; // Mengambil daftar kelas dari user.guru\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async fetchSiswaByKelas() {\r\n      try {\r\n        const response = await fetch(\r\n          `http://localhost:8080/api/test/listnk/${this.selectedKelas}`\r\n        );\r\n        const data = await response.json();\r\n        this.siswaList = data.siswaList;\r\n        this.selectedKelasName = data.selectedKelasName;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}