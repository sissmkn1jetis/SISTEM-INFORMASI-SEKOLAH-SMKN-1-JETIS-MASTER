{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Profile Guru\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Data Siswa\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"Pilih Kelas\", -1 /* HOISTED */);\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, $data.user && $data.user.guru ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"p\", null, \"Nama Guru: \" + _toDisplayString($data.user.guru.nama), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedKelas = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.fetchSiswaByKelas && $options.fetchSiswaByKelas(...args))\n  }, [_hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.kelasList, kelas => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: kelas.id,\n      value: kelas.id\n    }, _toDisplayString(kelas.name_kelas), 9 /* TEXT, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelSelect, $data.selectedKelas]]), $data.siswaList.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.siswaList, siswa => {\n    return _openBlock(), _createElementBlock(\"p\", {\n      key: siswa.id\n    }, _toDisplayString(siswa.name), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])) : $data.selectedKelasName ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, \" Tidak ada siswa pada kelas \" + _toDisplayString($data.selectedKelasName), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"mappings":";gCAEIA,oBAAqB,YAAjB,cAAY;;;;gCAKdA,oBAAmB,YAAf,YAAU;gCAEZA,oBAAqC;EAA7BC,KAAK,EAAC;AAAE,GAAC,aAAW;;;;;;;;;uBARlCC,oBAoBM,cAnBJC,UAAqB,EACVC,UAAI,IAAIA,UAAI,CAACC,IAAI,kBAA5BH,oBAEM,oBADJF,oBAAsC,WAAnC,aAAW,oBAAGI,UAAI,CAACC,IAAI,CAACC,IAAI,yDAEjCN,oBAcM,cAbJO,UAAmB,kBACnBP,oBAKS;+DALQI,mBAAa;IAAGI,QAAM,yCAAEC,iEAAiB;MACxDC,UAAqC,qBACrCR,oBAESS,6BAFeP,eAAS,EAAlBQ,KAAK;yBAApBV,oBAES;MAF2BW,GAAG,EAAED,KAAK,CAACE,EAAE;MAAGb,KAAK,EAAEW,KAAK,CAACE;wBAC5DF,KAAK,CAACG,UAAU;2FAHNX,mBAAa,KAMnBA,eAAS,CAACY,MAAM,sBAA3Bd,oBAEM,uCADJA,oBAAkES,6BAA/CP,eAAS,EAAlBa,KAAK;yBAAff,oBAAkE;MAAnCW,GAAG,EAAEI,KAAK,CAACH;wBAAOG,KAAK,CAACC,IAAI;sCAE/Cd,uBAAiB,kBAA/BF,oBAEI,iBAF6B,8BACJ,oBAAGE,uBAAiB","names":["_createElementVNode","value","_createElementBlock","_hoisted_1","$data","guru","nama","_hoisted_3","onChange","$options","_hoisted_4","_Fragment","kelas","key","id","name_kelas","length","siswa","name"],"sourceRoot":"","sources":["D:\\filee\\SISTEM-INFORMASI-SEKOLAH-SMKN-1-JETIS-MASTER\\frontend\\src\\components\\DataNilai\\DataNilai.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Profile Guru</h2>\r\n    <div v-if=\"user && user.guru\">\r\n      <p>Nama Guru: {{ user.guru.nama }}</p>\r\n    </div>\r\n    <div>\r\n      <h3>Data Siswa</h3>\r\n      <select v-model=\"selectedKelas\" @change=\"fetchSiswaByKelas\">\r\n        <option value=\"\">Pilih Kelas</option>\r\n        <option v-for=\"kelas in kelasList\" :key=\"kelas.id\" :value=\"kelas.id\">\r\n          {{ kelas.name_kelas }}\r\n        </option>\r\n      </select>\r\n      <div v-if=\"siswaList.length > 0\">\r\n        <p v-for=\"siswa in siswaList\" :key=\"siswa.id\">{{ siswa.name }}</p>\r\n      </div>\r\n      <p v-else-if=\"selectedKelasName\">\r\n        Tidak ada siswa pada kelas {{ selectedKelasName }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: null,\r\n      selectedKelas: \"\",\r\n      selectedKelasName: \"\",\r\n      kelasList: [],\r\n      siswaList: [],\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.fetchProfileData();\r\n  },\r\n  methods: {\r\n    async fetchProfileData() {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8080/api/auth/me/guru\");\r\n        const profileData = await response.json();\r\n        this.user = profileData.user;\r\n        this.kelasList = this.user.guru.kelas; // Mengambil daftar kelas dari user.guru\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async fetchSiswaByKelas() {\r\n      try {\r\n        const response = await fetch(\r\n          `http://localhost:8080/api/test/listnk/${this.selectedKelas}`\r\n        );\r\n        const data = await response.json();\r\n        this.siswaList = data.siswaList;\r\n        this.selectedKelasName = data.selectedKelasName;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}